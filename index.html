<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div id="app">
        <p>Hallo {{ name }}</p>

        <ul>
            <each of="personen" as="p">
                <li>{{ p.name }}

                    <ul>
                        <each of="p.childs" as="c">
                            <li>{{ c }}</li>
                        </each>
                    </ul>

                </li>
            </each>
        </ul>

        <button id="changeNameButton">Name Ã¤ndern</button>
        <button id="neuePersonButton">Neue Person</button>
    </div>
    
    <script type="module">

        import TemplateEngine from './template-engine.js'

        const model = TemplateEngine.reactive({
            name: 'Tobias',
            personen: [{
                name: 'Person1',
                childs: ['Person1_1', 'Person1_2']
            }, {
                name: 'Person2',
                childs: []
            }, {
                name: 'Person3',
                childs: ['Person3_1']
            }]
        }, document.getElementById('app'))

        model.listeBuecher()
        document.getElementById('changeNameButton').addEventListener('click', function () {
            model.name = 'Test'
        })

        document.getElementById('neuePersonButton').addEventListener('click', function () {
            model.personen.push({ name: 'Person4' })
        })


    </script>

</body>
</html>