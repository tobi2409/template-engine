<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div id="app"></div>

    <template id="app-template">
        <div>Hallo <span>--</span> <get>name</get>

            <div>Du bist <get>name</get> und <get>age</get> Jahre alt</div>
        </div>

        <div>Hallo <get>param1</get></div>

        <ul>
            <each of="friends" as="f">
                <li><get>f.name</get> ist <get>f.age</get> Jahre alt

                    <ul>
                        <each of="f.childs" as="c">
                            <li><get>c.name</get></li>
                        </each>
                    </ul>

                </li>
            </each>
        </ul>
    </template>

    <template-use id="app-template-use" template-id="app-template" mount-id="app" data-param1="Test"></template-use>

    <script type="module">
        import TemplateEngine from './template-engine.js'

        const data = {
            name: 'Tobias',
            age: 31,
            counter: 1,
            showSecondHallo: true,
            nestedCondition: true,
            secondCondition: false,
            friends: [{
                name: 'Freund1',
                childs: [{
                    name: 'Freund1_1',
                    childs: []
                }, {
                    name: 'Freund1_2',
                    childs: []
                }],
                age: 23
            }, {
                name: 'Freund2',
                childs: [{
                    name: 'Freund2_1',
                    childs: []
                }],
                age: 25
            }],
            showChilds: false,
            showChilds2: true
        }

        TemplateEngine.run(data, document.getElementById('app-template-use'))

        data.friends[0].name = 'Test'
        TemplateEngine.refresh(data, { 'action': 'update', key: 'friends.0.name' })
    </script>

</body>

</html>